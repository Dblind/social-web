(this["webpackJsonpsocial-web"]=this["webpackJsonpsocial-web"]||[]).push([[0],{105:function(e,t,n){e.exports={postWrapper:"Post_postWrapper__1fzcG",image:"Post_image__r-rj1"}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var s=n(3),r=n(11),a=n(12),o=n(14),c=n(13),i=n(1),u=n.n(i),l=n(16),d=n(7),j=n(0),b=function(e){return{isAuth:e.auth.isAuthorized}},p=function(e){var t=function(t){Object(o.a)(i,t);var n=Object(c.a)(i);function i(){return Object(r.a)(this,i),n.apply(this,arguments)}return Object(a.a)(i,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(s.a)({},this.props)):Object(j.jsx)(d.a,{to:"/login"})}}]),i}(u.a.Component);return Object(l.b)(b)(t)}},136:function(e,t,n){e.exports={item:"Profile_item__Kyaaw",itemGold:"Profile_itemGold__as58y",avatar:"Profile_avatar__aV4u5"}},137:function(e,t,n){"use strict";var s=n(1),r=n.n(s),a=(n(51),n(26)),o=(n(82),n(105)),c=n.n(o),i=n.p+"static/media/post.07868c4f.jpeg",u=n(0);var l=function(e){return Object(u.jsxs)("div",{className:c.a.postWrapper,children:[Object(u.jsx)("img",{src:i,alt:"imgPost",className:c.a.image}),Object(u.jsxs)("p",{children:["#",e.numberPost,": ",e.id]}),Object(u.jsxs)("p",{children:["M: ",e.message]})]})},d=n(67),j=n.n(d),b=n(100),p=n(101),f=n(38),h=n(77),O=function(e){var t=e.posts.map((function(e,t){var n;return Object(u.jsx)(l,{numberPost:t+1,id:e.id,message:null!==(n=e.message)&&void 0!==n?n:"non"})})),n=r.a.createRef(),s=function(t){console.log("formData",t),e.addPost(t.postProfile)};return Object(u.jsxs)("div",{className:j.a.wrapper,children:[Object(u.jsxs)("form",{className:j.a.newPostForm,children:[Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:"My post"})}),Object(u.jsx)("textarea",{ref:n,value:e.newPostText,onChange:function(t){var n=t.target.value;e.commitChangesTextarea(n)},placeholder:"Read your post hear...",name:"my post",id:"my-post",cols:"100",rows:"3"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onClick:s,id:"newPost",type:"button",value:"add post"}),Object(u.jsx)("input",{type:"submit",value:"Submit"}),Object(u.jsx)("button",{onClick:s,children:"b send onclick"})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)(v,{onSubmit:s}),t,Object(u.jsx)("hr",{})]})},g=Object(f.a)(30),m=Object(f.b)(3);var v=Object(p.a)({form:"NewPostFormProfile"})((function(e){return Object(u.jsx)("div",{className:j.a.wrapper,children:Object(u.jsxs)("form",{onSubmit:e.handleSubmit,className:j.a.newPostForm,children:[Object(u.jsx)(b.a,{component:h.b,placeholder:"Write your post hear...",validate:[f.c,g,m],name:"postProfile",id:"myPost",cols:"100",rows:"3"}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"add post Redux Form"})})]})})})),x=n(16),_=Object(x.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(a.a)(t))},commitChangesTextarea:function(t){e(Object(a.e)(t))}}}))(O);t.a=_},138:function(e,t,n){"use strict";var s=n(33),r=n.p+"static/media/avatarGirl.e01f62e1.jpg",a=n(39),o=n.n(a),c=n(11),i=n(12),u=n(14),l=n(13),d=n(1),j=n.n(d),b=n(0),p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).statusInpoutRef=j.a.createRef(),e.state={editMode:!1,status:e.props.status},e.onStatusChange=function(t){console.log("write"),e.setState({status:t.currentTarget.value})},e}return Object(i.a)(n,[{key:"setEditMode",value:function(e){this.setState({editMode:e}),e||this.props.updateStatus(this.state.status)}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status});this.state,this.props;console.log("componentDidUpdate")}},{key:"render",value:function(){var e=this;return console.log("render"),Object(b.jsx)("div",{className:o.a.status,children:this.state.editMode?Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:this.onStatusChange,ref:this.statusInpoutRef,type:"text",value:this.state.status,className:o.a.status__input,autoFocus:!0,onBlur:function(){return e.setEditMode(!1)}})}):Object(b.jsx)("div",{onDoubleClick:function(){return e.setEditMode(!0)},children:Object(b.jsxs)("span",{children:["Status: ",this.state.status]})})})}}]),n}(j.a.Component),f=n(64);var h=function(e){var t=Object(d.useState)(!1),n=Object(f.a)(t,2),s=n[0],r=n[1],a=Object(d.useState)(e.status),c=Object(f.a)(a,2),i=c[0],u=c[1];return Object(d.useEffect)((function(){u(e.status)}),[e.status]),Object(b.jsx)("div",{className:o.a.status,children:s?Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(e){return function(e){u(e.currentTarget.value)}(e)},type:"text",value:i,autoFocus:!0,onBlur:function(){return r(!1),void e.updateStatus(i)}})}):Object(b.jsx)("div",{onDoubleClick:function(){return r(!0)},children:Object(b.jsxs)("span",{children:["Status: ",i]})})})};t.a=function(e){var t,n;return e.profile?Object(b.jsxs)("div",{className:o.a.profileInfo,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:(null===(t=e.profile.photos)||void 0===t?void 0:t.large)||(null===(n=e.profile.photos)||void 0===n?void 0:n.small)||r,alt:"content",className:o.a.avatar})}),Object(b.jsx)(p,{status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)(h,{status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["FB: ",e.profile.contacts.facebook]}),Object(b.jsxs)("li",{children:["Website: ",e.profile.contacts.website]}),Object(b.jsxs)("li",{children:["VK: ",e.profile.contacts.vk]}),Object(b.jsxs)("li",{children:["TW: ",e.profile.contacts.twitter]}),Object(b.jsxs)("li",{children:["Instagram: ",e.profile.contacts.instagram]}),Object(b.jsxs)("li",{children:["Youtube: ",e.profile.contacts.youtube]}),Object(b.jsxs)("li",{children:["GitHub: ",e.profile.contacts.github]}),Object(b.jsxs)("li",{children:["MailLink: ",e.profile.contacts.mailLink]})]}),Object(b.jsx)("h3",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),Object(b.jsx)("p",{children:e.profile.lookingForAJob?"\u0418\u0449\u0443.":"\u041d\u0435 \u0438\u0449\u0443."}),Object(b.jsx)("h3",{children:"\u041a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0445\u043e\u0447\u0443"}),Object(b.jsx)("p",{children:e.profile.lookingForAJobDescription}),Object(b.jsx)("h3",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),Object(b.jsx)("p",{children:e.profile.fullName}),"nickname + description"]})]}):Object(b.jsx)(s.a,{})}},143:function(e,t,n){e.exports={news:"News_news__2L27l",news__button:"News_news__button__2KDCx"}},145:function(e,t,n){e.exports={friendConteiner:"Friends_friendConteiner__2J3J8"}},146:function(e,t,n){"use strict";var s=n(1),r=n.n(s),a=n(15),o=n(38),c=n(100),i=n(101),u=n(66),l=n.n(u),d=n(77),j=n(0),b="new post",p=function(e){var t="/dialogs/".concat(e.id);return Object(j.jsx)("div",{children:Object(j.jsx)(a.b,{to:t,children:e.name})})},f=function(e){return Object(j.jsx)("div",{className:l.a.post,children:e.message})},h=r.a.createRef();function O(e){return Object(j.jsx)("div",{className:"newPost",children:Object(j.jsxs)("form",{action:"",children:[Object(j.jsx)("textarea",{ref:h,placeholder:"Enter your post",name:"newPost",id:"newPost",cols:"30",rows:"10",onChange:function(t){e.changeTextarea(t.target.value)},value:e.newMessageBody}),Object(j.jsx)("input",{type:"button",id:"1",onClick:function(){e.sendPost()},value:"send"})]})})}var g=Object(o.a)(30),m=Object(o.b)(3);var v=Object(i.a)({form:"newPost"})((function(e){return console.log("props",e),Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{action:"",onSubmit:e.handleSubmit,children:[Object(j.jsx)(c.a,{placeholder:"Enter your new post...",component:d.b,validate:[o.c,g,m],name:"postDialogs",id:"post",cols:"55",rows:"5"}),Object(j.jsx)("button",{children:"Submit"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",value:e.newPost}),"new post: ",e.newPost]})]})}));t.a=function(e){var t=e.dialogsPage.collectionUsers.map((function(e){return Object(j.jsx)(p,{name:e.name,id:e.id})})),n=e.dialogsPage.collectionMessages.map((function(e){return Object(j.jsx)(f,{message:e.message})}));return Object(j.jsxs)("div",{className:l.a.dialogs,children:[Object(j.jsx)("div",{className:l.a.dialogNames,children:t}),Object(j.jsxs)("div",{className:l.a.messages,children:[Object(j.jsx)(O,{newMessageBody:e.dialogsPage.newMessageBody,changeTextarea:e.changeTextarea,sendPost:e.sendPost}),Object(j.jsx)("hr",{}),Object(j.jsx)(v,{onSubmit:function(t){console.log(t.post),b=t.post,e.sendPost(t.postDialogs)},newPost:b}),Object(j.jsxs)("div",{children:["returned post: ",b]}),n,";"]})]})}},147:function(e,t,n){"use strict";n(1);var s=n(136),r=n.n(s),a=n(138),o=n(137),c=n(0);t.a=function(e){return Object(c.jsxs)("div",{class:r.a.content,children:[Object(c.jsx)(a.a,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(c.jsx)(o.a,{})]})}},177:function(e,t,n){},178:function(e,t,n){},19:function(e,t,n){e.exports={container:"Users_container__6F9oG",pageSwitcher:"Users_pageSwitcher__2SVzO",switchPages__selected:"Users_switchPages__selected__2FxBg",users__button:"Users_users__button__31sHC",blockContainer:"Users_blockContainer__38tl-",block:"Users_block__1re8X",block__btnUnFollow:"Users_block__btnUnFollow__3alh2",block__avatar:"Users_block__avatar__2hqmC",block__info:"Users_block__info__39-p2",preloader:"Users_preloader__HS_r6"}},23:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var s=n(55),r=n.n(s),a="https://social-network.samuraijs.com/api/1.0",o=r.a.create({withCredentials:!0,baseURL:a,headers:{"API-KEY":"d0d8fea3-e35d-4a5d-8b18-bc86cf9e55b5"}}),c={getUsers:function(e,t){return o.get("/users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return o.post("/follow/".concat(e))},unFollow:function(e){return o.delete("/follow/".concat(e))},getProfile:function(e){return console.log("** Obsoleted method! ** Please use the profileAPI.getProfile."),i.getProfile(e)}};var i={getProfile:function(e){return o.get("/profile/".concat(e))},getStatus:function(e){return o.get("/profile/status/".concat(e))},updateStatus:function(e){return o.put("/profile/status",{status:e})},putPhoto:function(e){return o.put("profile/status",{small:"https://www.meme-arsenal.com/memes/ed71ac4efff3d04e446d619bb91107ff.jpg",large:"https://www.meme-arsenal.com/memes/ed71ac4efff3d04e446d619bb91107ff.jpg"})}};var u={me:function(){return o.get("/auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.post("/auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return o.delete("/auth/login")}}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return x}));var s=n(17),r=n.n(s),a=n(31),o=n(43),c=n(3),i=n(23),u=(n(32),n(56),{posts:[{id:"3",message:"Message id"},{id:"33"},{id:"1"},{id:"40",message:"lkasdf lsdfakldfj"},{id:"1092"}],newPostText:"",profile:null,status:""}),l="ADD-POST",d="UPDATE-NEW-POST-TEXT",j="SET-USER-PROFILE",b="SET-USER-STATUS",p="UPDATE-STATUS",f="DELETE-POST",h=function(e){return{type:l,post:e}},O=function(e){return{type:d,text:e}};function g(e){return{type:b,status:e}}function m(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:j,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}function v(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:s=t.sent,n(g(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function x(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:"new post",message:t.post?t.post:e.newPostText,likesCount:0},s=Object(c.a)({},e);return s.posts=Object(o.a)(e.posts),s.posts.push(n),s.newPostText="",s;case d:var r=Object(c.a)({},e);return r.newPostText=t.text,r;case j:var a=Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});return a;case b:case p:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case f:return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}}},28:function(e,t,n){e.exports={conteinerNav:"Navbar_conteinerNav__1AwDU",nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},303:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(76),o=n.n(a),c=(n(177),n(11)),i=n(12),u=n(14),l=n(13),d=(n(178),n(7)),j=n(15),b=n(16),p=n(32),f=n(3);function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&console.log("Incorrect dispatch action type! ".concat(t,': "').concat(e,'".'))}var O={initialized:!1},g="INITIALIZED-SUCCESS";var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(f.a)(Object(f.a)({},e),{},{initialized:t.initialized});default:return h(t.type,"appReducer",!1),e}},v=n(33),x=n(10),_=n(51),w=n(26),P=n(17),k=n.n(P),N=n(31),y=n(43),S=n(23),C={users:[{id:1,followed:!0,fullName:"Dmitry Yakovlev",status:"here i'm",location:{city:"Minsk",country:"Belarus"}},{id:2,followed:!1,fullName:"Mikolo Petrenko",status:"lerning",location:{city:"Kiev",country:"Ukrain"}},{id:3,followed:!0,fullName:"Sasha Soldatova",status:"travel",location:{city:"Novosibirsk",country:"Russia"}}],pageSize:50,totalUsersCount:1112,currentPageNumb:1,isFetching:!1,followingInProgress:[]},T="FOLLOW",F="UNFOLLOW",I="SET-USERS",U="SET-CURRENT-PAGE-NUMB",E="SET-TOTAL-COUNT-USERS",M="TOGGLE-IS-FETCHING",A="TOGGLE-IS-FOLLOWING-PROGRESS";function L(e){return{type:T,userId:e}}function z(e){return{type:F,userId:e}}function D(e){return{type:I,users:e}}function G(e){return{type:U,currentPageNumb:e}}function B(e){return{type:E,count:e}}function R(e){return{type:M,isFetching:e}}function W(e,t){return{type:A,isFetching:e,userId:t}}function H(e,t){return function(){var n=Object(N.a)(k.a.mark((function n(s){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(W(!0,e)),!t){n.next=7;break}return n.next=4,S.c.follow(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,S.c.unFollow(e);case 9:r=n.sent;case 10:0==r.data.resultCode&&(s(t?L(e):z(e)),s(W(!1,e)));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var n=Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id==t.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!0}):Object(f.a)({},e)}))});return n;case F:var s=Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id==t.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!1}):Object(f.a)({},e)}))});return s;case I:return Object(f.a)(Object(f.a)({},e),{},{users:Object(y.a)(t.users)});case U:var r=Object(f.a)(Object(f.a)({},e),{},{currentPageNumb:t.currentPageNumb});return r;case E:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.count});case M:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case A:return Object(f.a)(Object(f.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(y.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return h(t.type,"usersReduser",!1),e}},K=n(140),V=n(139),q=Object(x.c)({profilePage:w.b,dialogsPage:_.a,usersPage:J,auth:p.b,form:V.a,app:m}),Y=Object(x.e)(q,Object(x.a)(K.a));window.store=Y,console.log("state",Y.getState());var X=Y,Z=(n(55),n.p+"static/media/social-media-stock_tiktok.a1575c0a.jpg"),Q=n(49),$=n.n(Q),ee=n(0);var te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={date:new Date},s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.timerInterval=setInterval(this.tick.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return Object(ee.jsxs)("div",{className:$.a.header__clock,children:[Object(ee.jsx)("span",{children:"Clock: "}),this.state.date.toLocaleTimeString()]})}}]),n}(r.a.Component),ne=function(e){return Object(ee.jsxs)("div",{className:$.a.header,children:[Object(ee.jsx)(j.b,{to:"/home",children:Object(ee.jsx)("img",{className:$.a.header__logo,src:Z,alt:"logo"})}),Object(ee.jsx)(te,{}),Object(ee.jsx)("div",{className:$.a.header__loginBlock,children:e.isAuthorized?Object(ee.jsxs)("span",{children:[Object(ee.jsx)(j.b,{to:"/profile",activeClassName:$.a.activeLogin,children:e.login}),Object(ee.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(ee.jsx)(j.b,{to:"/login",children:"Login"})})]})},se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(ee.jsx)(ne,Object(f.a)({},this.props))}}]),n}(r.a.Component);var re={setUserAuthenticationData:p.e,logout:p.d},ae=Object(x.d)(d.f,Object(b.b)((function(e){return{isAuthorized:e.auth.isAuthorized,login:e.auth.login}}),re))(se),oe=n(143),ce=n.n(oe),ie=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={count:0},s}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(ee.jsxs)("div",{className:ce.a.news__button,children:[Object(ee.jsx)("button",{onClick:function(t){e.setState({count:e.state.count+1})},children:"+"}),Object(ee.jsx)("h1",{children:this.state.count}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"1. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"2. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"3. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"4. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"5. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"6. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"7. News name."})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:"8. News name."})})]})}}]),n}(r.a.Component),ue=n(19),le=n.n(ue),de=n.p+"static/media/follower.0c9cc0ef.jpg",je=n(64),be=n(65),pe=["totalItemsCount","pageSize","pagesInBlock"],fe=function(){function e(t,n){Object(c.a)(this,e),this.page=t,this.getUsers=n}return Object(i.a)(e,[{key:"render",value:function(e){var t=this;return Object(ee.jsx)("button",{className:e.selector,onClick:function(){return t.getUsers(t.page)},children:this.page},this.page)}}]),e}(),he=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.pagesInBlock,a=Object(be.a)(e,pe),o=Object(s.useState)(0),c=Object(je.a)(o,2),i=c[0],u=c[1],l=Math.ceil(t/(n>0?n:1)),d=[],j=i*r,b=0;j<(l-i*r<r?l:i*r+r)&&b<20;j++,b++){var p=new fe(j+1,a.onGetUsersFromServer);d.push(p.render(j+1==a.currentPage?{selector:le.a.switchPages__selected}:{}))}return Object(ee.jsxs)("div",{className:le.a.pageSwitcher,children:[Object(ee.jsx)("button",{onClick:function(){return u(0==i?0:i-1)},children:"prev"}),d,Object(ee.jsx)("button",{onClick:function(){return u(i+1>=l/r?i:i+1)},children:"next"}),Object(ee.jsxs)("p",{children:["pagesCount: ",l,", currentPage: ",a.currentPage,", currentPageBlock: ",i,", pagesInBlock: ",r]})]})};function Oe(e){return e.followingInProgress?Object(ee.jsx)("div",{children:"wait response"}):Object(ee.jsx)("div",{children:"done"})}var ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n,s,r,a,o=this,c=this.props.followingInProgress.some((function(e){return e==o.props.user.id}));return Object(ee.jsxs)("div",{className:le.a.block,children:[Object(ee.jsxs)("div",{className:le.a.block__follow,children:[Object(ee.jsx)("div",{className:le.a.block__avatar,children:Object(ee.jsx)(j.b,{to:"/profile/"+this.props.user.id,children:Object(ee.jsx)("img",{src:(null===(e=this.props.user.photos)||void 0===e?void 0:e.large)||(null===(t=this.props.user.photos)||void 0===t?void 0:t.small)||de,alt:"user photo"})})}),this.props.user.followed?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("button",{disabled:c,className:le.a.block__btnUnFollow,onClick:function(e){console.log("followingInProgress",o.props.followingInProgress),c||o.props.unFollowThunkCreator(o.props.user.id)},children:"unfollow"})}):Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("button",{disabled:c,className:"block__btnFollow",onClick:function(e){c||o.props.followThunckCreator(o.props.user.id)},children:"follow"})}),Object(ee.jsx)(Oe,{followingInProgress:c,userId:this.props.user.id})]}),Object(ee.jsxs)("div",{className:le.a.block__info,children:[Object(ee.jsx)("div",{className:"block__name",children:Object(ee.jsxs)("ul",{children:[Object(ee.jsx)("li",{children:Object(ee.jsxs)("span",{children:[this.props.user.id,": ",this.props.user.fullName||this.props.user.name]})}),Object(ee.jsx)("li",{children:Object(ee.jsx)("span",{children:this.props.user.status})})]})}),Object(ee.jsx)("div",{className:"block__location",children:Object(ee.jsxs)("ul",{children:[Object(ee.jsx)("li",{children:Object(ee.jsx)("span",{children:null!==(n=null===(s=this.props.user.location)||void 0===s?void 0:s.city)&&void 0!==n?n:"empty city"})}),Object(ee.jsx)("li",{children:Object(ee.jsx)("span",{children:null!==(r=null===(a=this.props.user.location)||void 0===a?void 0:a.country)&&void 0!==r?r:"empty country"})})]})})]})]})}}]),n}(r.a.Component),me=function(e){console.log("users props",e);var t=Object(ee.jsx)(he,{currentPage:e.currentPage,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,onGetUsersFromServer:e.onGetUsersFromServer,pagesInBlock:10});return Object(ee.jsxs)("div",{className:le.a.container,children:[t,Object(ee.jsx)("div",{className:le.a.blockContainer,children:e.users.map((function(t){return Object(ee.jsx)(ge,{onFollow:e.onFollow,onUnfollow:e.onUnfollow,toggleFollowingProgress:e.toggleFollowingProgress,followingInProgress:e.followingInProgress,unFollowThunkCreator:e.unFollowThunkCreator,followThunckCreator:e.followThunckCreator,user:t},t.id+t.name||t.fullName)}))}),t]})},ve=n(106),xe=n(144);var _e={getUsers:Object(xe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),getPageSize:function(e){return e.usersPage.pageSize},getTotalUsersCount:function(e){return e.usersPage.totalUsersCount},getCurrentPageNumb:function(e){return e.usersPage.currentPageNumb},getIsFetching:function(e){return e.usersPage.isFetching},getFollowingInProgress:function(e){return e.usersPage.followingInProgress}},we=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onGetUsersFromServer=function(e){s.props.getUsersThunkCreator(e,s.props.pageSize)},s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.onGetUsersFromServer(1)}},{key:"render",value:function(){return Object(ee.jsxs)(ee.Fragment,{children:[this.props.isFetching?Object(ee.jsx)(v.a,{}):null,Object(ee.jsx)(me,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPageNumb,users:this.props.users,onFollow:this.props.follow,onUnfollow:this.props.unFollow,onGetUsersFromServer:this.onGetUsersFromServer,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress,unFollowThunkCreator:this.props.unFollowThunkCreator,followThunckCreator:this.props.followThunckCreator,a2:2})]})}}]),n}(r.a.Component);var Pe={follow:L,unFollow:z,setUsers:D,setCurrentPageNumb:G,setTotalCountUsers:B,toggleIsFetching:R,toggleFollowingProgress:W,getUsersThunkCreator:function(e,t){return function(){var n=Object(N.a)(k.a.mark((function n(s){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(R(!0)),s(G(e)),n.next=4,S.c.getUsers(e,t);case 4:r=n.sent,s(D(r.items)),s(B(r.totalCount)),s(R(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return H(e,!1)},followThunckCreator:function(e){return H(e,!0)}},ke=Object(x.d)(Object(b.b)((function(e){return{users:_e.getUsers(e),pageSize:_e.getPageSize(e),totalUsersCount:_e.getTotalUsersCount(e),currentPageNumb:_e.getCurrentPageNumb(e),isFetching:_e.getIsFetching(e),followingInProgress:_e.getFollowingInProgress(e)}}),Pe),ve.a)(we),Ne=console.log,ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=new Promise((function(t,n){setTimeout((function(){return e.then((function(e){return Ne(t=e),t+1;var t}))}),1e3),setTimeout((function(){return t("a")}),2e3)}));return Ne(Promise.resolve(e)),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("h1",{children:"Tests"}),Object(ee.jsx)(he,{totalItemsCount:201,pageSize:10,pagesInBlock:10}),Object(ee.jsx)("p",{})]})}}]),n}(r.a.Component);n(146),n(147),n.p,n(145);var Se=n(28),Ce=n.n(Se);var Te=function(e){return Object(ee.jsx)("div",{className:Ce.a.conteinerNav,children:Object(ee.jsx)("nav",{className:Ce.a.nav,children:Object(ee.jsxs)("ul",{children:[Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/",children:"Home"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/profile",children:"Profile"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/dialogs",children:"Messages"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/news",children:"News"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/music",children:"Music"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/setting",children:"Setting"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/login",children:"Login"})}),Object(ee.jsx)("li",{className:"item",children:Object(ee.jsx)(j.b,{activeClassName:Ce.a.activeLink,to:"/users",children:"Users"})}),Object(ee.jsx)("li",{}),Object(ee.jsx)("li",{children:Object(ee.jsx)("a",{href:"https://social-network.samuraijs.com/login",children:"social-network.samuraijs.com/login"})})]})})})},Fe=function(e){return function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(){return Object(c.a)(this,r),n.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(ee.jsx)(s.Suspense,{fallback:Object(ee.jsx)(v.a,{}),children:Object(ee.jsx)(e,Object(f.a)({},this.props))})}}]),r}(r.a.Component)},Ie=r.a.lazy((function(){return n.e(4).then(n.bind(null,306))})),Ue=r.a.lazy((function(){return n.e(5).then(n.bind(null,304))})),Ee=r.a.lazy((function(){return n.e(3).then(n.bind(null,308))})),Me=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(ee.jsxs)("div",{className:"app-wrapper",children:[Object(ee.jsx)(ae,{}),Object(ee.jsx)(Te,{}),Object(ee.jsxs)("div",{className:"content",children:["    /* render - for the function component, component - for the class component. */",Object(ee.jsx)(d.b,{exact:!0,path:"/",component:function(){return Object(ee.jsx)(ye,{})}}),Object(ee.jsx)(d.b,{path:"/dialogs",component:function(){var e=Fe(Ue);return Object(ee.jsx)(e,{})}}),Object(ee.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(ee.jsx)(s.Suspense,{fallback:Object(ee.jsx)(v.a,{}),children:Object(ee.jsx)(Ie,{})})}}),Object(ee.jsx)(d.b,{path:"/login",component:Fe(Ee)}),Object(ee.jsx)(d.b,{path:"/news",component:ie}),Object(ee.jsx)(d.b,{path:"/users",component:function(){return Object(ee.jsx)(ke,{})}})]})]}):Object(ee.jsx)(v.a,{})}}]),n}(r.a.Component);var Ae=Object(x.d)(d.f,Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(p.a)());Promise.all([t]).then((function(){return e({type:g,initialized:!0})}))}}}))(Me),Le=function(e){return Object(ee.jsx)(j.a,{children:Object(ee.jsx)(b.a,{store:X,children:Object(ee.jsx)(r.a.StrictMode,{children:Object(ee.jsx)(Ae,{})})})})},ze=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,307)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),r(e),a(e),o(e)}))};n(56),n(82);o.a.render(Object(ee.jsx)(Le,{}),document.getElementById("root")),ze()},32:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p}));var s=n(17),r=n.n(s),a=n(31),o=n(3),c=n(52),i=n(23),u=(n(26),{userId:null,email:null,login:null,isAuthorized:!1}),l="authentication/SET-USER-DATA";function d(e,t,n){return{type:l,payload:{userId:e,email:t,login:n}}}function j(){return function(){var e=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.me();case 2:0===(n=e.sent).data.resultCode&&t(d(n.data.data.id,n.data.data.email,n.data.data.login));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function b(e,t,n){return function(){var s=Object(a.a)(r.a.mark((function s(a){var o,u,l;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.login(e,t,n);case 2:0===(o=s.sent).data.resultCode?a(j()):(l=(null===(u=o.data.messages)||void 0===u?void 0:u.length)>0?o.data.messages[0]:"Some error!",a(Object(c.a)("login",{password:"Password wrong!",_error:l})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}function p(){return function(e){i.a.logout().then((function(t){0===t.data.resultCode&&e(j())}))}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)(Object(o.a)({},e),t.payload),{},{isAuthorized:!!t.payload.email});default:return e}}},33:function(e,t,n){"use strict";n(1);var s=n.p+"static/media/1487.f8e66e4f.gif",r=n(19),a=n.n(r),o=n(0);t.a=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("img",{className:a.a.preloader,src:s})})}},38:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var s=function(e){if(!e)return"Field is required"},r=function(e){return function(t){return(null===t||void 0===t?void 0:t.length)>e?"The muximum length must not exceed ".concat(e," characters"):void 0}},a=function(e){return function(t){var n="The length must be more then ".concat(e-1," characters.");return(null===t||void 0===t?void 0:t.length)<e?(console.log(n),n):void 0}}},39:function(e,t,n){e.exports={item:"ProfileInfo_item__2oxPX",itemGold:"ProfileInfo_itemGold__3F_GL",avatar:"ProfileInfo_avatar__3xuFq",profileInfo:"ProfileInfo_profileInfo__2IJgv",status:"ProfileInfo_status__2G3BZ",status__input:"ProfileInfo_status__input__3PE-q"}},49:function(e,t,n){e.exports={header:"Header_header__1VCKf",header__logo:"Header_header__logo__1ETZb",header__clock:"Header_header__clock__19LTM",header__loginBlock:"Header_header__loginBlock__271E8",activeLogin:"Header_activeLogin__M7W10"}},50:function(e,t,n){e.exports={form:"FormsControls_form__kEhdO",form__error:"FormsControls_form__error__H72iz",form__errorTitle:"FormsControls_form__errorTitle__2sCSC"}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var s=n(43),r=n(3),a=n(56),o="UPDATE-NEW-MESSAGE-BODY",c="SEND-MESSAGE",i=function(e){return{type:c,post:e}},u=function(e){return{type:o,text:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a._state.dialogsPage,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n=Object(r.a)({},e);return n.newMessageBody=t.text,n;case c:var i=Object(r.a)({},e);return i.collectionMessages=Object(s.a)(e.collectionMessages),i.collectionMessages.push({message:t.post?t.post:i.newMessageBody}),i.newMessageBody="",i;default:return e}}},56:function(e,t,n){"use strict";var s=n(51),r=n(26),a={_state:{profilePage:{posts:[{id:"3",message:"Message id"},{id:"33"},{id:"1"},{id:"40",message:"lkasdf lsdfakldfj"},{id:"1092"}],newPostText:"",profile:1},dialogsPage:{collectionUsers:[{name:"Arny",id:1},{name:"Gans",id:4},{name:"Garry",id:9},{name:"Andrey",id:1},{name:"Sasha",id:2},{name:"John",id:3},{name:"Valera",id:4},{name:"Anna",id:5}],collectionMessages:[{message:"Hello"},{message:"Good day now."},{message:"Will come to the park."},{message:"Hello"}],newMessageBody:""},friends:[{name:"Garry",pathImgAvatar:"./avatar.png"},{name:"Sasha",pathImgAvatar:"./avatar.png"},{name:"Gans",pathImgAvatar:"./avatar.png"}]},addPost:function(){var e={id:"new post"};e.message=this._state.profilePage.newPostText,this._state.profilePage.posts.push(e),this._state.profilePage.newPostText=this._state.profilePage.defaultNewPostText,o()},updateNewPostText:function(e){this._state.profilePage.newPostText=e,o()},dispatch:function(e){this._state.profilePage=Object(r.b)(this._state.profilePage,e),this._state.dialogsPage=Object(s.a)(this._state.dialogsPage,e),o()},getState:function(){return this._state}};function o(){}t.a=a},66:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogNames:"Dialogs_dialogNames__1PcJJ",messages:"Dialogs_messages__1w_Up",post:"Dialogs_post__5wO2F",active:"Dialogs_active__2sQhs"}},67:function(e,t,n){e.exports={wrapper:"MyPosts_wrapper__1t8P0",newPostForm:"MyPosts_newPostForm__1KGwm"}},77:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var s=n(3),r=n(65),a=(n(1),n(50)),o=n.n(a),c=n(0),i=["input","meta"],u=["input","meta"],l=function(e){var t=e.input,n=e.meta,a=Object(r.a)(e,i),u=n.touched&&n.error;return Object(c.jsxs)("div",{className:o.a.form,children:[Object(c.jsx)("textarea",Object(s.a)(Object(s.a)(Object(s.a)({},t),a),{},{className:u?o.a.form__error:""})),Object(c.jsx)("span",{className:o.a.form__errorTitle,children:u&&n.error})]})},d=function(e){var t=e.input,n=e.meta,a=Object(r.a)(e,u),i=n.touched&&n.error;return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",Object(s.a)(Object(s.a)(Object(s.a)({type:"text"},t),a),{},{className:i?o.a.form__error:""})),Object(c.jsx)("span",{className:o.a.form__errorTitle,children:i&&n.error})]})}},82:function(e,t,n){"use strict";var s=n(1),r=n.n(s).a.createContext(null);t.a=r}},[[303,1,2]]]);
//# sourceMappingURL=main.1c4f4846.chunk.js.map